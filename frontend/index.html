<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EngProcess - MTM Analyzer v1.3</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
</head>
<body>
    <header><h1>EngProcess MTM Analyzer</h1></header>
    <main class="container">
        <div class="settings-section card">
            <h2><span class="icon">丘뙖잺</span> Par칙metros da An치lise</h2>
            <div class="params-grid">
                <div><label for="ritmo">Fator de Ritmo (%)</label><input type="number" id="ritmo" value="100" step="1"></div>
                <div><label for="suplemento">Suplementos (%)</label><input type="number" id="suplemento" value="5" step="1"></div>
                <div class="auto-mode-container"><label for="autoMarkCheckbox">Modo Autom치tico</label><input type="checkbox" id="autoMarkCheckbox" class="toggle-switch"></div>
            </div>
            <div class="sensitivity-container">
                <label for="sensitivitySlider">Sensibilidade da Dete칞칚o: <span id="sensitivityValue">0.0080</span></label>
                <input type="range" min="1" max="200" value="80" class="slider" id="sensitivitySlider">
            </div>
            <div class="config-buttons">
                <button id="saveConfigBtn" class="btn btn-secondary">Salvar Config. JSON</button>
                <label for="loadConfigInput" class="btn btn-secondary">Carregar Config. JSON</label>
                <input type="file" id="loadConfigInput" accept=".json">
            </div>
        </div>
        <div class="video-section card">
            <h2><span class="icon">游꿟</span> An치lise por V칤deo</h2>
            <input type="file" id="videoUpload" accept="video/*">
            <small class="format-note">Recomendado: formato .MP4 (codec H.264). Outros formatos podem n칚o funcionar.</small>
            <div class="player-container">
                <video id="videoPlayer" class="video-player" style="display: none;" controls></video>
                <canvas id="outputCanvas" class="video-player"></canvas>
            </div>
            <div class="controls">
                <button id="markStartBtn" class="btn">Marcar In칤cio (I)</button>
                <button id="markEndBtn" class="btn">Marcar Fim (F)</button>
            </div>
        </div>
        <div class="analysis-section card">
            <h2><span class="icon">游늵</span> Tabela de Cronoan치lise</h2>
            <div class="table-wrapper">
                <table id="analysisTable">
                    <thead><tr><th>N췈</th><th>In칤cio (s)</th><th>Fim (s)</th><th>Delta (s)</th><th>Descri칞칚o</th><th>C칩digo MTM</th><th>TMU</th><th>Tempo Padr칚o (s)</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
            <div class="summary-section">
                <h3>Sum치rio da An치lise</h3>
                <div class="summary-grid">
                    <div><h4>Tempo de Ciclo (Padr칚o)</h4><p id="total-standard-time">0.00 s</p></div>
                    <div><h4>Total de Elementos</h4><p id="total-elements">0</p></div>
                    <div><h4>Tempo M칠dio / Elemento</h4><p id="average-time">0.00 s</p></div>
                </div>
                <div class="action-buttons-container">
                    <button id="generateReportBtn" class="btn btn-primary">Gerar Laudo IA</button>
                    <button id="exportCsvBtn" class="btn btn-success">Exportar para CSV</button>
                </div>
            </div>
        </div>
    </main>
    <div id="reportModal" class="modal"><div class="modal-content"><span class="close-button">&times;</span><h2>Laudo de An치lise e Sugest칫es</h2><pre id="report-text"></pre></div></div>
    <script src="script.js"></script>
</body>
</html>
